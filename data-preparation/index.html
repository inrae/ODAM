
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ODAM, Open data and access to data mining, Deployment and User's Guide">
      
      
      
        <meta name="author" content="Daniel Jacob">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.2">
    
    
      
        <title>Data Preparation - ODAM</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1118c9be.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ba0d045b.min.css">
        
      
    
    
    
    <script src="../js/jquery-2.1.1.min.js"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
      <link rel="stylesheet" href="../css/pdfextra.css">
    
      <link rel="stylesheet" href="../css/lightbox.css">
    
    
      
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-168923330-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-preparation-protocol-for-odam-compliance" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ODAM" class="md-header__button md-logo" aria-label="ODAM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ODAM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Preparation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ODAM" class="md-nav__button md-logo" aria-label="ODAM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ODAM
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../presentation/" class="md-nav__link">
        Presentation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="./" class="md-nav__link md-nav__link--active"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          Data collection and preparation
        </a>
      </label>
      <nav class="md-nav" aria-label="Data collection and preparation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="./" class="md-nav__link md-nav__link--active"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            Data collection and preparation
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="collection/" class="md-nav__link">
        Collection of datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="large-datasets/" class="md-nav__link">
        Large datasets
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="../publish/" class="md-nav__link"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          Publish your data
        </a>
      </label>
      <nav class="md-nav" aria-label="Publish your data" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="../publish/" class="md-nav__link"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            Publish your data
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../publish/fair-aware/" class="md-nav__link">
        FAIR-Aware
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dataset-example/" class="md-nav__link">
        A dataset example
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Using ODAM
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data-explorer/" class="md-nav__link">
        Data Explorer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        Web API
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="../json-schema/" class="md-nav__link"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          JSON Schema
        </a>
      </label>
      <nav class="md-nav" aria-label="JSON Schema" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="../json-schema/" class="md-nav__link"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            JSON Schema
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../json-schema/session-examples/" class="md-nav__link">
        R and Python session examples
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../json-schema/dataverse/" class="md-nav__link">
        Datapackage from Dataverse
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../json-schema/google-search/" class="md-nav__link">
        Google search
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../json-schema/odam-data-resource/" class="md-nav__link">
        ODAM-data-ressource
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../json-schema/odam-data-package/" class="md-nav__link">
        ODAM-data-package
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ressources/" class="md-nav__link">
        Online ressources
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../todo/" class="md-nav__link">
        ToDo
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-data-gathering" class="md-nav__link">
    1- Data Gathering
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-data-structure-and-organization" class="md-nav__link">
    2 - Data structure and organization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-structural-metadata" class="md-nav__link">
    3 - Structural Metadata
  </a>
  
    <nav class="md-nav" aria-label="3 - Structural Metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#s_subsetstsv" class="md-nav__link">
    s_subsets.tsv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a_attributestsv" class="md-nav__link">
    a_attributes.tsv
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-additional-information" class="md-nav__link">
    4 - Additional information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-final-checking" class="md-nav__link">
    5 - Final checking
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="data-preparation-protocol-for-odam-compliance">Data Preparation Protocol for ODAM Compliance<a class="headerlink" href="#data-preparation-protocol-for-odam-compliance" title="Permanent link">&para;</a></h1>
<p>The purpose of this protocol is to describe all the steps involved in collecting, preparing and annotating the data from an experiment associated with an experimental design (<a href="https://en.wikipedia.org/wiki/Design_of_experiments" target="_blank">DoE</a>) that will then allow the user to benefit from the services offered by ODAM. The overall approach is based on good data management practices concerning data structuring and the description of structural metadata.</p>
<p>Indeed, the strong point of the approach is to define metadata in depth, i.e. at the level of the data itself (i.e. metadata at column-level such as factors, variables...) and not just <a href="https://en.wikipedia.org/wiki/Metadata" target="_blank">descriptive metadata</a> on the top of the dataset. Thus, having <a href="https://storyneedle.com/structural-metadata-key-to-structured-content/" target="_blank">structural metadata</a> allows datasets to achieve a higher level of interoperability and greatly facilitates functional interconnection and analysis in a broader context.</p>
<p><strong>Based on an example</strong></p>
<ul>
<li>
<p>In order to illustrate the different stages of this protocol, we have chosen an example from an experiment on tomato fruits grown in a greenhouse. The aim of this study was to build a model of fruit growth. For this, a certain amount of data was required, and we will limit ourselves to some of them in order to simplify the size of the data set.</p>
</li>
<li>
<p>See the complete example:</p>
<ul>
<li>Data explorer <a href="https://pmb-bordeaux.fr/dataexplorer/?ds=frim1" target="_blank">https://pmb-bordeaux.fr/dataexplorer/?ds=frim1</a></li>
<li>Dataverse : <a href="https://doi.org/10.15454/95JUTK" target="_blank">https://doi.org/10.15454/95JUTK</a></li>
</ul>
</li>
</ul>
<h3 id="1-data-gathering">1- Data Gathering<a class="headerlink" href="#1-data-gathering" title="Permanent link">&para;</a></h3>
<p>In our data subset example, we have 5 data files, one by type of object (<em>plants, harvests, samples, compounds and enzymes</em>).</p>
<ul>
<li>
<p>5 different entities within the study, each corresponding to a file of data
    tables:</p>
<ul>
<li><em>plants, harvests, samples, compounds and enzymes</em></li>
</ul>
</li>
<li>
<p>2 factors:</p>
<ul>
<li><em>Treatment, Development stages</em></li>
</ul>
</li>
<li>
<p>53 quantitative variables:</p>
<ul>
<li><em>compounds (12) + enzymes (38) + weight, height, diameter (3)</em></li>
</ul>
</li>
</ul>
<p><strong>1</strong> - First, we put them under the same directory by giving it a name corresponding to the study or project (e.g. acronym of the project with a suffix corresponding to a study)</p>
<p><center>
<a href="../images/media/Image3.png" data-lightbox="Img3"><img src="../images/media/Image3.png" width="500px"></a>
</center><br><br></p>
<p><strong>2</strong> - Data subsets files must be compliant with the TSV standard (<a href="https://en.wikipedia.org/wiki/Tab-separated_values" target="_blank">Tab-Separator-Values</a>).</p>
<p>So an ODAM dataset is a bundle that contains a set of TSV files. The TSV files are simple tables containing the data of the dataset. In choosing this format, we follow the <a href="https://5stardata.info/en" target="_blank">5 gold stars</a> principle, considered as a good practice and a necessary and indispensable step towards "Linked Open Data".</p>
<p><center>
<a href="../images/media/Image12.png" data-lightbox="Img12"><img src="../images/media/Image12.png" width="500px"></a>
</center><br><br></p>
<p><strong>Note</strong> : Data files must have the extension '<strong>txt</strong>' in order to distinguish them from metadata files, see below.</p>
<p><strong>Advice:</strong> To be sure to have the right format, do a <em>copy</em> of data from the spreadsheet then <em>paste</em> them into a new file, then <em>save as TSV format</em> (separator: a tab character)'</p>
<h3 id="2-data-structure-and-organization">2 - Data structure and organization<a class="headerlink" href="#2-data-structure-and-organization" title="Permanent link">&para;</a></h3>
<p>Since all the experimental data tables were generated as part of an experiment associated with a Design of Experiment (<a href="https://en.wikipedia.org/wiki/Design_of_experiments" target="_blank">DoE</a>), each file thus contains data acquired sequentially as the experiment progressed.</p>
<p><center>
<a href="../images/media/Image1.png" data-lightbox="Img1"><img src="../images/media/Image1.png" width="500px"></a>
</center><br><br></p>
<p>There must therefore be a link between each file, i.e. information that connects them together. In most cases (if not all), this information corresponds to <strong>identifiers</strong><sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup> that make it possible to precisely reference within the experiment each of the elements belonging to the same observation <strong>entity</strong><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> forming a coherent observation unit. For example, each plant, each sample has its own identifier, and each of these entities corresponds to a separate data file.</p>
<p><hr><font style="font-family: system-ui; font-size: 0.9em;"></p>
<p>Well organized data means that each data table must be correctly structured, i.e.:</p>
<ul>
<li>Each variable forms a column,</li>
<li>Each observation forms a line,</li>
<li>Each type of "unit observational" (defined as an entity) forms a table, i.e.
    a file,</li>
<li>Each data table file must have a column defined as an <strong>identifier</strong> (similar as a primary key) corresponding to each observation of the <strong>entity</strong> (e.g. plant, sample, …),</li>
<li>Missing values can either be an empty cell or have the value 'NA',</li>
<li>The header names must short without special characters. Only use the alphanumerical characters, and the underline character as word separator,</li>
<li>The file should only contain data in matrix form and nothing else, i.e. no annotation on top, bottom, or sides.</li>
</ul>
<p></font><hr></p>
<p>Example of the ‘samples.txt’ file:</p>
<p><center>
<a href="../images/media/Image2.png" data-lightbox="Img2"><img src="../images/media/Image2.png" width="600px"></a>
</center><br><br></p>
<p>The files generated during data collection have to be organized according to the <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model" target="_blank">entity-relationship model</a> similar to relational database management systems (RDBMS). Indeed, each <strong>entity</strong><sup id="fnref2:1"><a class="footnote-ref" href="#fn:1">1</a></sup> corresponds to a type of collected data (samples, compounds, ...) for which is associated a set of <strong>attributes</strong><sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>, i.e. a set of variables that may include observed or measured variables (quantitative or qualitative), controlled independent variables (factors) and an identifier.</p>
<p>Then, a link is established for each subset with the subset from which it was obtained, so that the links can be interpreted as "<em>obtained from</em>” as shown in the figure below:</p>
<p><center>
<a href="../images/media/Image5.png" data-lightbox="Img5"><img src="../images/media/Image5.png" width="600px"></a>
</center><br><br></p>
<p>We have to organize your data subsets so that links could be established between them. In practical, it means to add when necessary a column (colored in green in the figure below) containing the identifiers corresponding to the entity to which we want to connect the subset. It is to be noted that this duplication of identifiers must be the only redundant information, through all data subsets.</p>
<p><center>
<a href="../images/media/Image6.png" data-lightbox="Img6"><img src="../images/media/Image6.png" width="600px"></a>
</center><br><br></p>
<h3 id="3-structural-metadata">3 - Structural Metadata<a class="headerlink" href="#3-structural-metadata" title="Permanent link">&para;</a></h3>
<p>ODAM provides a model for structuring both data and metadata that facilitates data handling and analysis. </p>
<p>Whatever the kind of experiment, this assumes a design of experiment (<a href="https://en.wikipedia.org/wiki/Design_of_experiments" target="_blank">DoE</a>) involving individuals, samples or whatever things, as the main objects of study and producing several <a href="https://www.google.com/search?safe=strict&amp;q=experimental+data+table&amp;tbm=isch&amp;source=univ&amp;sa=X&amp;biw=1549&amp;bih=768" target="_blank">experimental data tables</a>. This also assumes the observation of dependent variables resulting from effects of some controlled independent variables (<strong>factors</strong><sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>).</p>
<p>Moreover, the objects of study usually have an <strong>identifier</strong><sup id="fnref2:4"><a class="footnote-ref" href="#fn:4">4</a></sup> for each of them, and the variables can be <strong>quantitative</strong><sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> or <strong>qualitative</strong><sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup>.</p>
<p>We can have either one entity within the study or several kinds, but in this latter case, it must exist a relationship between entities that we assume of “<em>obtained from</em>" type as describe above.</p>
<p>Thus, the data table of samples can be viewed according to the repartition by category we have just introduced as shown below:</p>
<p><center>
<a href="../images/media/Image7.png" data-lightbox="Img7"><img src="../images/media/Image7.png" width="600px"></a>
<br><p class="plegend center">a data entity (data subset 'samples') consisting of its attributes (columns) divided by category (identifier, factor, quantitative, qualitative)</p>
</center></p>
<p><hr><font style="font-family: system-ui; font-size: 0.9em;">
<strong>The four categories</strong></p>
<ul>
<li>
<p><strong>Identifier</strong>: precisely reference within the experiment each of the elements belonging to the same observation entity forming a coherent observation unit. For example, each plant, each sample has its own identifier,</p>
</li>
<li>
<p><strong>Factor</strong>: a <a href="https://conjointly.com/kb/factorial-designs" target="_blank">factor</a> of an experiment is a controlled independent variable; a variable whose levels are set by the experimenter. Treatments (control vs. stress), genotype (WT vs. mutant), the course of time (development stages) or even tissues, are typical factors of experiments.</p>
</li>
<li>
<p><strong>Quantitative</strong>: Quantitative data are values that describe a measurable quantity, in the form of numbers that can be calculated.</p>
</li>
<li>
<p><strong>Qualitative</strong>: Qualitative data describe qualities or characteristics. They answer questions such as "what type" or "what category". These values are no longer numbers, but a set of modalities. These values cannot be calculated.</p>
</li>
</ul>
<p></font><hr>
<br></p>
<p>In order to allow data to be ODAM-compliant, we need two specific files (subsets &amp; attributes) to describe the structural metadata of the whole dataset, i.e. some minimal but relevant metadata. For that, <strong>two metadata files are required</strong>, namely <strong>s_subsets.tsv</strong> and <strong>a_attributes.tsv</strong>.</p>
<p><b>(1)</b>The subset metadata file (s_subsets.tsv) makes it possible to associate each data subset with a key concept corresponding to the main entity of the subset, each subset being stored as a file (the grey rectangle). It also defines for each subset the link to the subset it originates. <b>(2)</b> The attribute metadata file (a_attributes.tsv) allows to annotate each attribute (concept/variable) with some minimal but relevant metadata, such as: its description with its unit, the data type, but also its category. The category defined by controlled vocabulary (CV) is used to specify the type of each variable. In each of these two files (subsets and attributes), it is possible to annotate each of the terms with unambiguous definitions through links to accessible definitions (standardized CV terms).</p>

<p>Thus constructed, this metadata constitutes a dictionary describing each file (subsets) as well as all the columns of the tables (attributes) offering a better guarantee in the correct (re)use of the data for users who have not produced these data. These metadata lets therefore non-expert users explore and visualize your data. By making data interoperable and reusable by both humans and machines, it also encourages data dissemination according to FAIR principles.</p>

<p><br><hr><br></p>
<h4 id="s_subsetstsv">s_subsets.tsv<a class="headerlink" href="#s_subsetstsv" title="Permanent link">&para;</a></h4>
<ul>
<li>A metadata file allowing to associate with each subset of data a key concept corresponding to the main entity of the subset and the relations of the type "<em>obtainedFrom</em>" between these concepts.</li>
<li>The full version of this metadata file for the FRIM1 dataset can be accessed online using API:<ul>
<li><a href="https://pmb-bordeaux.fr/getdata/query/frim1?format=xml" target="_blank">subset metadata</a></li>
</ul>
</li>
</ul>
<p><center>
<a href="../images/media/Image9.png" data-lightbox="Img9"><img src="../images/media/Image9.png" width="600px"></a>
</center></p>
<p><font style="font-family: system-ui; font-size: 0.9em;"></p>
<p><strong>A column</strong> : Unique rank number of the data subset</p>
<p><strong>B column</strong> : father rank</p>
<ul>
<li>the rank of the data subset (father rank) from which the data subset was obtained, implying a 'obtained from' relationship between both data subsets</li>
</ul>
<p><strong>C column</strong> : short name of the data subset</p>
<ul>
<li>
<p>i.e the entity name associated to the subset in the form of a short name</p>
</li>
<li>
<p>only the alphanumerical characters and the underscore are allowed (i.e. 'a-z', 'A-Z', '0-9' and '_').</p>
</li>
</ul>
<p><strong>D column</strong> : The identifier attributes</p>
<ul>
<li>
<p>should be the only attribute declared as '<strong>identifier</strong>' in the '<strong>category</strong>' column in the <strong>a_attributes.tsv</strong> file (<strong>D column</strong>)</p>
</li>
<li>
<p>should be available as a column item in the corresponding data subset file</p>
</li>
</ul>
<p><strong>E column</strong> : names of the files</p>
<ul>
<li>
<p>only the alphanumerical characters, the underscore and the dot are allowed ( i.e. 'a-z', 'A-Z', '0-9' and '_' , '.' )</p>
</li>
<li>
<p>Moreover, these names should not start with a digit!</p>
</li>
</ul>
<p><strong>F column :</strong> description of the entity</p>
<ul>
<li>the allowed characters are: 0-9 a-z A-Z , : + * () [] {} - % ! | / . ?</li>
</ul>
<p><strong>G &amp; H columns :</strong> annotations based on ontology</p>
<ul>
<li>
<p>use an ontology term (G) along with its corresponding URL (H)</p>
</li>
<li>
<p>Sites such as <a href="https://bioportal.bioontology.org/" target="_blank">BioPortal</a> or <a href="http://agroportal.lirmm.fr/" target="_blank">AgroPortal</a> are great sources for finding Control Vocabulary (CV) based on ontology</p>
</li>
<li>
<p>These annotations are optional but it is mandatory to specify at least one so that the data table has exactly 8 columns. So a minimum good practice is to put for the first an NULL annotation e.g. 'NULL' (G), '/voc/null' (H).</p>
</li>
</ul>
<p></font></p>
<p><br><hr><br></p>
<h4 id="a_attributestsv">a_attributes.tsv<a class="headerlink" href="#a_attributestsv" title="Permanent link">&para;</a></h4>
<ul>
<li>A metadata file allowing each attribute (concept/variable) to be annotated with some minimal but relevant metadata</li>
<li>The full version of this metadata file for the FRIM1 dataset can be accessed online using API:<ul>
<li><a href="https://pmb-bordeaux.fr/getdata/query/frim1/metadata?format=xml" target="_blank">attribute metadata</a></li>
</ul>
</li>
</ul>
<p><center>
<a href="../images/media/Image10.png" data-lightbox="Img10"><img src="../images/media/Image10.png" width="600px"></a>
</center></p>
<p><font style="font-family: system-ui; font-size: 0.9em;"></p>
<p><strong>A column :</strong> Short names of the data subsets</p>
<ul>
<li>
<p>must be declared in the <strong>s_subsets.tsv</strong> file (<strong>C column</strong>) and vice versa.</p>
</li>
<li>
<p>only the alphanumerical characters and the underscore are allowed (i.e. 'a-z', 'A-Z', '0-9' and '_').</p>
</li>
</ul>
<p><strong>B column :</strong> attributes</p>
<ul>
<li>
<p>short name of the variables (data table column names)</p>
</li>
<li>
<p>only the alphanumerical characters and the underscore are allowed (i.e. 'a-z', 'A-Z', '0-9' and '_').</p>
</li>
<li>
<p>a set of variables that may include observed or measured variables (quantitative or qualitative), controlled independent variables (factors) and identifiers.</p>
</li>
<li>
<p>one and only one attribute (<strong>B column</strong>) must be declared as '<strong>identifier</strong>' in the '<strong>category</strong>' column (<strong>D column</strong>) per data subset (<strong>A column</strong>)</p>
</li>
<li>
<p>This column can be easily filled by copy-paste from the data table files, as shown below:</p>
</li>
</ul>
<p></font>
<center>
<a href="../images/media/Image11.png" data-lightbox="Img11"><img src="../images/media/Image11.png" width="600px"></a>
</center></p>
<p><font style="font-family: system-ui; font-size: 0.9em;"></p>
<p><strong>C column :</strong> Entry</p>
<ul>
<li>
<p>gives opportunity to make a selection on the attributes via web-services by associating them an alias name (called an “entry”).</p>
</li>
<li>
<p>only the alphanumerical characters and the underscore are allowed (i.e. 'a-z', 'A-Z', '0-9' and '_').</p>
</li>
<li>
<p>Example: we put ‘<em>treatment</em>’ as an entry for the ‘<em>Treatment</em>’ factor. By this, we could retrieve all samples data for Treatment equal to ‘<em>Control</em>’ by applying the API query, e.g. <a href="https://pmb-bordeaux.fr/getdata/query/frim1/(samples)/treatment/Control?format=xml" target="_blank">https://pmb-bordeaux.fr/getdata/query/frim1/(samples)/treatment/Control?format=xml</a></p>
</li>
<li>
<p>See <a href="../api/#very-detailed-example-of-api-querying" target="_blank">Very detailed example of API querying</a></p>
</li>
</ul>
<p><strong>D column :</strong> Category</p>
<ul>
<li>has a limited choice of words: the set of terms are fixed, namely: '<strong>identifier</strong>', '<strong>factor</strong>', '<strong>quantitative</strong>', '<strong>qualitative</strong>'. Leave as blank otherwise.</li>
<li>dependent variables resulting of effects of some controlled experimental factors must be defined as ‘<strong>factor</strong>’.</li>
<li>Each entity identifier must be defined as ‘<strong>identifier</strong>’</li>
<li>Variables can be defined as ‘<strong>quantitative</strong>’ or ‘<strong>qualitative</strong>’.</li>
<li>External identifier which serves as a link must have an empty cell.</li>
</ul>
<p><strong>E column :</strong> data types</p>
<ul>
<li>the allowed names are restricted to '<strong>numeric</strong>' or '<strong>string</strong>'. All
    '<em>quantitative</em>' variables must be ‘<em>numeric</em>' type and it is preferable if
    the '<em>qualitative</em>' variables are ‘<em>string</em>' type.</li>
</ul>
<p><strong>F column :</strong> description of the attribute</p>
<ul>
<li>
<p>the allowed characters are: 0-9 a-z A-Z , : + * () [] {} - % ! | / . ?</p>
</li>
<li>
<p>If a unit must be specified for a variable, we can add it in brackets at the
    end of the text of the description</p>
</li>
</ul>
<p><strong>G &amp; H columns :</strong> annotations based on ontology</p>
<ul>
<li>
<p>use an ontology term (G) along with its corresponding URL (H)</p>
</li>
<li>
<p>Sites such as <a href="https://bioportal.bioontology.org/" target="_blank">BioPortal</a> or
    <a href="https://bioportal.bioontology.org/" target="_blank">AgroPortal</a> are great sources for finding
    Control Vocabulary (CV) based on ontology</p>
</li>
<li>
<p>These annotations are optional but it is mandatory to specify at least one
    so that the data table has exactly 8 columns. So a minimum good practice is
    to put for all attributes of type 'identifier' the corresponding annotation
    within the EDAM ontology , i.e. 'identifier' (G), <a href="http://edamontology.org/data_0842" target="_blank">http://edamontology.org/data_0842</a>(H)
    or 'Sample ID' (G), <a href="http://edamontology.org/data_3273" target="_blank">http://edamontology.org/data_3273</a>(H)</p>
</li>
</ul>
<p></font></p>
<p><br><hr><br></p>
<h3 id="4-additional-information">4 - Additional information<a class="headerlink" href="#4-additional-information" title="Permanent link">&para;</a></h3>
<p>Although descriptive metadata have to be associated with a suitable data repository in order to support data publishing (see <a href="../publish">Publish your data</a>), it is nevertheless possible to add descriptive information about the dataset.</p>
<ul>
<li>
<p>This information must be provided in <a href="https://www.markdownguide.org/basic-syntax/" target="_blank">markdown format</a>, a text format with a simple formatting syntax. The name of the file must be '<strong>infos.md</strong>' and must be added in the same directory as the dataset.</p>
</li>
<li>
<p>It is also possible to add images. To do this, you must create a directory named '<strong>images</strong>'. To reference these images in the infos.md file, use the @@IMAGE@@ macro as a path. This macro will be automatically replaced by the correct URL when the page is loaded. An example is given below :</p>
<div class="highlight"><pre><span></span><code>![frim1](@@IMAGE@@/tomato_icon.png) &lt;font size=&quot;+3&quot;&gt; [Tomato][1] &lt;/font&gt;
</code></pre></div>

</li>
<li>
<p>In the same way, it is also possible to add links to PDF files. To do this, you must create a directory named '<strong>pdf</strong>'. To add links to PDF files in the infos.md file, use the @@PDF@@ macro as a path. This macro will be automatically replaced by the correct URL when the page is loaded. An example is given below :</p>
<div class="highlight"><pre><span></span><code>* [Protocol](@@PDF@@/protocol.pdf)
</code></pre></div>

</li>
</ul>
<p><br><br></p>
<h3 id="5-final-checking">5 - Final checking<a class="headerlink" href="#5-final-checking" title="Permanent link">&para;</a></h3>
<p>So now our ODAM dataset directory should look like this:</p>
<p><center>
<a href="../images/media/Image4.png" data-lightbox="Img4"><img src="../images/media/Image4.png" width="500px"></a>
</center><br><br></p>
<p>To complete this phase of data preparation, here is a list of some points to
check and summarized below:</p>
<table>
<thead>
<tr>
<th><strong>#</strong></th>
<th><strong>Note Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>A directory named as the dataset name should be actually created in the data repository; Be careful in the spelling, see note 6;</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>The s_subsets.tsv and a_attributes.tsv files should be present in the data repository.</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>All data subset files declared in the s_subsets.tsv (col. E) should be available in the data repository</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>To be sure to have the right format, do a 'copy' of data from the spreadsheet then 'paste' them into a new file, then 'save as TSV format (separator: a tab character)'</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>1) all subsets in the a_attributes.tsv file (col. A) should be declared in the s_subsets.tsv file (col. C) 2) all subsets in the s_subsets.tsv file (col. C) should be declared in the a_attributes.tsv file (col. A) 3) all attribute names in the a_attributes.tsv file (col. B) should be available as a column in the corresponding data subset file declared in the s_subsets.tsv file (col. E)</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>Be careful in the spelling: 1) for data subset file names (col. E in s_subsets.tsv), identifier name (col. D in s_subsets.tsv), attribute names (col. B in a_attributes.tsv), subset short names (col. C in s_subsets.tsv and col. A in a_attributes.tsv) and entry names (col. C in a_attributes.tsv), only the alphanumerical characters and the underscore are allowed (i.e. 'a-z', 'A-Z', '0-9' and '_'). Moreover, these names should not start with a digit! 2) for categorical names (col. D in a_attributes.tsv), the number of terms and their spelling are fixed, namely: 'identifier', 'factor', 'quantitative’, 'qualitative'. 3) for type (col. E in a_attributes.tsv), the allowed names are restricted to 'numeric' or 'string'. 4) for description, the allowed characters are: 0-9 a-z A-Z , : + * () [] </td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>Identifiers declared in the s_subsets.tsv file (col. D) 1) should be declared as 'identifier' in the 'category' column in the a_attributes.tsv file (col. D) 2) should be available as a column item in the corresponding data subset file 3) should be the only one attribute declared as identifier for the corresponding data subset file in the a_attributes.tsv file (col. D)</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>Each subset having a 'father_rank' greater than 0 in the s_subsets.tsv file (col. B) 1) should include in its data file a column corresponding to the identifier of the subset to which it is linked (i.e. corresponding to the father_rank in col. A) 2) should have the linked subset identifier with no category (i.e. empty) in the a_attributes.tsv file (col. D), except if the subset and the linked subset have the same identifier</td>
</tr>
</tbody>
</table>
<p>Fortunately, all of these checks can be done for you.</p>
<ul>
<li>See how it looks for our complete online example:  <a href="https://pmb-bordeaux.fr/getdata/check/frim1" target="_blank">https://pmb-bordeaux.fr/getdata/check/frim1</a></li>
</ul>
<p>This assumes that you have installed ODAM software (see <a href="../install">Installation</a>) and that you know how to use the API (see <a href="../api">Web API</a>).
<br><br></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>A data entity is an object in a data model. Data is typically designed by breaking things down into their smallest parts that are useful for representing data relationships. For example, a plant can generate a list of samples. Each sample can be associated with several types of analytical variables. All three objects: plant, sample and type of analytical variables are considered data entities.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Data attributes are characteristics of a data object. From data science view, they are the features of a data entity. They exist most often as a column in a data table.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>A factor of an experiment is a controlled independent variable; a variable whose levels are set by the experimenter. Treatments (control vs. stress), genotype (WT vs. mutant), the course of time (development stages) or even tissues, are typical factors of experiments.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>Identifiers precisely reference within the experiment each of the elements belonging to the same observation entity forming a coherent observation unit. For example, each plant, each sample has its own identifier,&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>Quantitative data are values that describe a measurable quantity, in the form of numbers that can be calculated.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>Qualitative data describe qualities or characteristics. They answer questions such as "what type" or "what category". These values are no longer numbers, but a set of modalities. These values cannot be calculated.&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../presentation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Presentation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Presentation
            </div>
          </div>
        </a>
      
      
        
        <a href="collection/" class="md-footer__link md-footer__link--next" aria-label="Next: Collection of datasets" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Collection of datasets
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            INRAE, 2020
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.806c4996.min.js"></script>
      
        <script src="../js/lightbox.min.js"></script>
      
        <script src="../js/mermaid.min.js"></script>
      
    
  </body>
</html>